import "@azure-tools/cadl-azure-core";
import "@cadl-lang/rest";
import "./models.cadl";

using Cadl.Rest;
using Cadl.Http;

namespace Adel;

interface AlertConfigsOperations {
  @route("/alertConfigs")
  @get
  List is Azure.Core.Foundations.Operation<
    {
      @doc("""
The number of records to skip from the list of records based on the sorting
field and ordering method specified. By default, records are ranked by
descending created time (UTC).
""")
      @query
      skip: int32;

      @doc("""
The maximum number of records to be returned per page. If more records are
requested via the API, @nextLink will contain the link to the next page.
""")
      @query
      maxpagesize: int32;

      @doc("""
The name of the field on which you want to sort records. By default, records
are sorted by created time (UTC).
""")
      @query
      sortBy: string;
      @query orderBy: OrderBy;
    },
    void
  >;

  @route("/alertConfigs/{alertConfigName}")
  @put
  Create is Azure.Core.Foundations.Operation<
    {
      @doc("Unique identifier of an alert configuration. This parameter is case-sensitive.")
      @path
      alertConfigName: string;
      @body body: AlertConfig;
    },
    void
  >;

  @route("/alertConfigs/{alertConfigName}")
  @get
  Read is Azure.Core.Foundations.Operation<
    {
      @doc("Unique identifier of an alert configuration. This parameter is case-sensitive.")
      @path
      alertConfigName: string;
    },
    AlertConfig
  >;

  @route("/alertConfigs/{alertConfigName}")
  @delete
  Delete is Azure.Core.Foundations.Operation<
    {
      @doc("Unique identifier of an alert configuration. This parameter is case-sensitive.")
      @path
      alertConfigName: string;
    },
    void
  >;

  @route("/alertConfigs/{alertConfigName}")
  @patch
  Update is Azure.Core.Foundations.Operation<
    {
      @doc("Unique identifier of an alert configuration. This parameter is case-sensitive.")
      @path
      alertConfigName: string;
      @body body: AlertConfig;
    },
    AlertConfig
  >;
}

interface DatasetsOperations {
  @route("/datasets")
  @get
  List is Azure.Core.Foundations.Operation<
    {
      @doc("""
The number of records to skip from the list of records based on the sorting
field and ordering method specified. By default, records are ranked by
descending created time (UTC).
""")
      @query
      skip: int32;

      @doc("""
The maximum number of records to be returned per page. If more records are
requested via the API, @nextLink will contain the link to the next page.
""")
      @query
      maxpagesize: int32;

      @doc("""
The name of the field on which you want to sort records. By default, records
are sorted by created time (UTC).
""")
      @query
      sortBy: string;
      @query orderBy: OrderBy;
    },
    void
  >;

  @route("/datasets/{datasetName}")
  @put
  Create is Azure.Core.Foundations.Operation<
    {
      @doc("Unique identifier of a dataset. This parameter is case-sensitive.")
      @path
      datasetName: string;
      @body body: RequestDataset;
    },
    void
  >;

  @route("/datasets/{datasetName}")
  @get
  Read is Azure.Core.Foundations.Operation<
    {
      @doc("Unique identifier of a dataset. This parameter is case-sensitive.")
      @path
      datasetName: string;
    },
    void
  >;

  @route("/datasets/{datasetName}")
  @delete
  Delete is Azure.Core.Foundations.Operation<
    {
      @doc("Unique identifier of a dataset. This parameter is case-sensitive.")
      @path
      datasetName: string;
    },
    void
  >;

  @summary("Query data from data source to preview")
  @doc("""
Verify data schema and preview data before/after a dataset is created. View raw
data to better diagnose and explain a detected anomaly.
""")
  @route("/datasets/previewData")
  @post
  PreviewData is Azure.Core.Foundations.Operation<
    {
      @body body: DatasetPreviewRequest;
    },
    void
  >;
}

interface HooksOperations {
  @route("/hooks")
  @get
  List is Azure.Core.Foundations.Operation<
    {
      @doc("""
The number of records to skip from the list of records based on the sorting
field and ordering method specified. By default, records are ranked by
descending created time (UTC).
""")
      @query
      skip: int32;

      @doc("""
The maximum number of records to be returned per page. If more records are
requested via the API, @nextLink will contain the link to the next page.
""")
      @query
      maxpagesize: int32;

      @doc("""
The name of the field on which you want to sort records. By default, records
are sorted by created time (UTC).
""")
      @query
      sortBy: string;
      @query orderBy: OrderBy;
    },
    void
  >;

  @route("/hooks/{hookName}")
  @put
  Create is Azure.Core.Foundations.Operation<
    {
      @doc("Unique identifier of a hook. This parameter is case-sensitive.")
      @path
      hookName: string;
      @body body: Hook;
    },
    void
  >;

  @route("/hooks/{hookName}")
  @get
  Read is Azure.Core.Foundations.Operation<
    {
      @doc("Unique identifier of a hook. This parameter is case-sensitive.")
      @path
      hookName: string;
    },
    Hook
  >;

  @route("/hooks/{hookName}")
  @delete
  Delete is Azure.Core.Foundations.Operation<
    {
      @doc("Unique identifier of a hook. This parameter is case-sensitive.")
      @path
      hookName: string;
    },
    void
  >;

  @route("/hooks/{hookName}")
  @patch
  Update is Azure.Core.Foundations.Operation<
    {
      @doc("Unique identifier of a hook. This parameter is case-sensitive.")
      @path
      hookName: string;
      @body body: Hook;
    },
    Hook
  >;
}

interface ReplaysOperations {
  @route("/inference/replays")
  @get
  List is Azure.Core.Foundations.Operation<
    {
      @doc("""
The number of records to skip from the list of records based on the sorting
field and ordering method specified. By default, records are ranked by
descending created time (UTC).
""")
      @query
      skip: int32;

      @doc("""
The maximum number of records to be returned per page. If more records are
requested via the API, @nextLink will contain the link to the next page.
""")
      @query
      maxpagesize: int32;

      @doc("""
The name of the field on which you want to sort records. By default, records
are sorted by created time (UTC).
""")
      @query
      sortBy: string;
      @query orderBy: OrderBy;
      @query status: ReplayStatus;

      @doc("""
Filter replay records by a list of inference schedule name(s). Format the list
as a comma-separated string, no space allowed. By default, the list of replay
records are ranked by descending replay created time (UTC) for each inference
schedule.
""")
      @query
      scheduleName: string;

      @doc("""
The total number of replay records to be returned per inference schedule,
ordered by created time descending. By default, the full list of replay records
will be returned for the inference schedule name(s) in your filter.
""")
      @query
      topPerSchedule: int32;
    },
    void
  >;

  @route("/inference/replays/{replayName}")
  @put
  Create is Azure.Core.Foundations.Operation<
    {
      @doc("""
Unique identifier of a replay on an inference schedule. This parameter is
case-sensitive.
""")
      @path
      replayName: string;
      @body body: RequestScheduleReplay;
    },
    void
  >;

  @route("/inference/replays/{replayName}")
  @get
  Read is Azure.Core.Foundations.Operation<
    {
      @doc("""
Unique identifier of a replay on an inference schedule. This parameter is
case-sensitive.
""")
      @path
      replayName: string;
    },
    void
  >;

  @route("/inference/replays/{replayName}")
  @delete
  Delete is Azure.Core.Foundations.Operation<
    {
      @doc("""
Unique identifier of a replay on an inference schedule. This parameter is
case-sensitive.
""")
      @path
      replayName: string;
    },
    void
  >;
}

interface SchedulesOperations {
  @route("/inference/schedules")
  @get
  List is Azure.Core.Foundations.Operation<
    {
      @doc("""
The number of records to skip from the list of records based on the sorting
field and ordering method specified. By default, records are ranked by
descending created time (UTC).
""")
      @query
      skip: int32;

      @doc("""
The maximum number of records to be returned per page. If more records are
requested via the API, @nextLink will contain the link to the next page.
""")
      @query
      maxpagesize: int32;

      @doc("""
The name of the field on which you want to sort records. By default, records
are sorted by created time (UTC).
""")
      @query
      sortBy: string;
      @query orderBy: OrderBy;
      @query status: ScheduleStatus;

      @doc("""
Filter inference schedules by a list of model name(s). Format the list as a
comma-separated string, no space allowed. For each model, by default the list
of inference schedules are ranked by descending inference schedule created time
(UTC).
""")
      @query
      modelNames: string;

      @doc("""
The total number of inference schedules to be returned per model, ordered by
created time descending. By default, the full list of inference schedules will
be returned for the model name(s) in your filter.
""")
      @query
      topPerModel: int32;
    },
    void
  >;

  @route("/inference/schedules/{scheduleName}")
  @put
  Create is Azure.Core.Foundations.Operation<
    {
      @doc("""
Unique identifier of a live streaming inference schedule. This parameter is
case-sensitive.
""")
      @path
      scheduleName: string;
      @body body: RequestSchedule;
    },
    void
  >;

  @route("/inference/schedules/{scheduleName}")
  @get
  Read is Azure.Core.Foundations.Operation<
    {
      @doc("""
Unique identifier of a live streaming inference schedule. This parameter is
case-sensitive.
""")
      @path
      scheduleName: string;
    },
    void
  >;

  @route("/inference/schedules/{scheduleName}")
  @delete
  Delete is Azure.Core.Foundations.Operation<
    {
      @doc("""
Unique identifier of a live streaming inference schedule. This parameter is
case-sensitive.
""")
      @path
      scheduleName: string;
    },
    void
  >;

  @summary("Update an inference schedule")
  @doc("Pause/resume or update selected properties of an inference schedule.")
  @route("/inference/schedules/{scheduleName}")
  @patch
  Update is Azure.Core.Foundations.Operation<
    {
      @doc("""
Unique identifier of a live streaming inference schedule. This parameter is
case-sensitive.
""")
      @path
      scheduleName: string;
      @body body: ScheduleUpdate;
    },
    void
  >;

  @summary("Get historical detection results from the inference schedule")
  @doc("""
Use this API to retrieve detected anomalies over a historical time period
specified in the request body. Please refer to the official documentation for
the detailed quota and limits.
""")
  @route("/inference/schedules/{scheduleName}/getHistory")
  @get
  GetHistory is Azure.Core.Foundations.Operation<
    {
      @path scheduleName: string;
      @query startTime: string;
      @query endTime: string;
    },
    void
  >;
}

interface EvaluationsOperations {
  @route("/multivariate/evaluations")
  @get
  List is Azure.Core.Foundations.Operation<
    {
      @doc("""
The number of records to skip from the list of records based on the sorting
field and ordering method specified. By default, records are ranked by
descending created time (UTC).
""")
      @query
      skip: int32;

      @doc("""
The maximum number of records to be returned per page. If more records are
requested via the API, @nextLink will contain the link to the next page.
""")
      @query
      maxpagesize: int32;

      @doc("""
The name of the field on which you want to sort records. By default, records
are sorted by created time (UTC).
""")
      @query
      sortBy: string;
      @query orderBy: OrderBy;
      @query status: EvaluationStatus;

      @doc("""
Filter evaluations by a list of model name(s). Format the list as a
comma-separated string, no space allowed. For each model, by default the list
of evaluations are ranked by descending evaluation created time (UTC).
""")
      @query
      modelNames: string;

      @doc("""
The total number of evaluations to be returned per model, ordered by created
time descending. By default, the full list of evaluations will be returned for
the model name(s) in your filter.
""")
      @query
      topPerModel: int32;
    },
    void
  >;

  @route("/multivariate/evaluations/{evaluationName}")
  @put
  Create is Azure.Core.Foundations.Operation<
    {
      @doc("Unique identifier of a model evaluation. This parameter is case-sensitive.")
      @path
      evaluationName: string;
      @body body: RequestEvaluation;
    },
    void
  >;

  @route("/multivariate/evaluations/{evaluationName}")
  @get
  Read is Azure.Core.Foundations.Operation<
    {
      @doc("Unique identifier of a model evaluation. This parameter is case-sensitive.")
      @path
      evaluationName: string;
    },
    void
  >;

  @route("/multivariate/evaluations/{evaluationName}")
  @delete
  Delete is Azure.Core.Foundations.Operation<
    {
      @doc("Unique identifier of a model evaluation. This parameter is case-sensitive.")
      @path
      evaluationName: string;
    },
    void
  >;
}

interface ModelsOperations {
  @route("/multivariate/models")
  @get
  List is Azure.Core.Foundations.Operation<
    {
      @doc("""
The number of records to skip from the list of records based on the sorting
field and ordering method specified. By default, records are ranked by
descending created time (UTC).
""")
      @query
      skip: int32;

      @doc("""
The maximum number of records to be returned per page. If more records are
requested via the API, @nextLink will contain the link to the next page.
""")
      @query
      maxpagesize: int32;

      @doc("""
The name of the field on which you want to sort records. By default, records
are sorted by created time (UTC).
""")
      @query
      sortBy: string;
      @query orderBy: OrderBy;
      @query status: ModelStatus;

      @doc("""
Filter models by a list of training dataset name(s). Format the list as a
comma-separated string, no space allowed. For each dataset, by default the list
of models are ranked by descending model created time (UTC).
""")
      @query
      datasetNames: string;

      @doc("""
The total number of models to be returned per dataset, ordered by created time
descending. By default, the full list of models will be returned for the
dataset name(s) in your filter.
""")
      @query
      topPerDataset: int32;
    },
    void
  >;

  @route("/multivariate/models/{modelName}")
  @put
  Create is Azure.Core.Foundations.Operation<
    {
      @doc("Unique identifier of a model. This parameter is case-sensitive.")
      @path
      modelName: string;
      @body body: RequestModel;
    },
    void
  >;

  @route("/multivariate/models/{modelName}")
  @get
  Read is Azure.Core.Foundations.Operation<
    {
      @doc("Unique identifier of a model. This parameter is case-sensitive.")
      @path
      modelName: string;
    },
    void
  >;

  @route("/multivariate/models/{modelName}")
  @delete
  Delete is Azure.Core.Foundations.Operation<
    {
      @doc("Unique identifier of a model. This parameter is case-sensitive.")
      @path
      modelName: string;
    },
    void
  >;

  @summary("Detect Multivariate Anomaly - Sync")
  @doc("""
Detect anomalies with a trained model and multivariate time-series data points
specified in the request body. This API is recommended to be embedded in an
inference schedule set up for continuous real-time inference. Please refer to
the official documentation for the detailed quota and limits.
""")
  @route("/multivariate/models/{modelName}/detect")
  @post
  Detect is Azure.Core.Foundations.Operation<
    {
      @path modelName: string;
      @body body: DetectionRequest;
    },
    void
  >;
}
