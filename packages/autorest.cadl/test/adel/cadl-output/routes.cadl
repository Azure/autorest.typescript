import "@azure-tools/cadl-azure-core";
import "@cadl-lang/rest";
import "./models.cadl";

using Cadl.Rest;
using Cadl.Http;

namespace Adel;

interface AlertConfigsOperations {
  List is Azure.Core.ResourceRead<
    PageAlertConfig,
    {
      parameters: {
        @doc("""
The number of records to skip from the list of records based on the sorting
field and ordering method specified. By default, records are ranked by
descending created time (UTC).
""")
        @query
        skip: int32;

        @doc("""
The maximum number of records to be returned per page. If more records are
requested via the API, @nextLink will contain the link to the next page.
""")
        @query
        maxpagesize: int32;

        @doc("""
The name of the field on which you want to sort records. By default, records
are sorted by created time (UTC).
""")
        @query
        sortBy: string;
        @query orderBy: OrderBy;
      };
    }
  >;

  Create is Azure.Core.ResourceCreateOrReplace<AlertConfig>;

  Read is Azure.Core.ResourceRead<AlertConfig>;

  Delete is Azure.Core.ResourceDelete<AlertConfig>;

  Update is Azure.Core.ResourceCreateOrUpdate<AlertConfig>;
}

interface DatasetsOperations {
  List is Azure.Core.ResourceRead<
    PageDataset,
    {
      parameters: {
        @doc("""
The number of records to skip from the list of records based on the sorting
field and ordering method specified. By default, records are ranked by
descending created time (UTC).
""")
        @query
        skip: int32;

        @doc("""
The maximum number of records to be returned per page. If more records are
requested via the API, @nextLink will contain the link to the next page.
""")
        @query
        maxpagesize: int32;

        @doc("""
The name of the field on which you want to sort records. By default, records
are sorted by created time (UTC).
""")
        @query
        sortBy: string;
        @query orderBy: OrderBy;
      };
    }
  >;

  Create is Azure.Core.ResourceCreateOrReplace<Dataset>;

  Read is Azure.Core.ResourceRead<Dataset>;

  Delete is Azure.Core.ResourceDelete<Dataset>;

  @summary("Query data from data source to preview")
  @doc("""
Verify data schema and preview data before/after a dataset is created. View raw
data to better diagnose and explain a detected anomaly.
""")
  PreviewData is Azure.Core.ResourceCreateWithServiceProvidedName<DatasetPreviewResponse>;
}

interface HooksOperations {
  List is Azure.Core.ResourceRead<
    PageHook,
    {
      parameters: {
        @doc("""
The number of records to skip from the list of records based on the sorting
field and ordering method specified. By default, records are ranked by
descending created time (UTC).
""")
        @query
        skip: int32;

        @doc("""
The maximum number of records to be returned per page. If more records are
requested via the API, @nextLink will contain the link to the next page.
""")
        @query
        maxpagesize: int32;

        @doc("""
The name of the field on which you want to sort records. By default, records
are sorted by created time (UTC).
""")
        @query
        sortBy: string;
        @query orderBy: OrderBy;
      };
    }
  >;

  Create is Azure.Core.ResourceCreateOrReplace<Hook>;

  Read is Azure.Core.ResourceRead<Hook>;

  Delete is Azure.Core.ResourceDelete<Hook>;

  Update is Azure.Core.ResourceCreateOrUpdate<Hook>;
}

interface ReplaysOperations {
  List is Azure.Core.ResourceRead<
    PageScheduleReplay,
    {
      parameters: {
        @doc("""
The number of records to skip from the list of records based on the sorting
field and ordering method specified. By default, records are ranked by
descending created time (UTC).
""")
        @query
        skip: int32;

        @doc("""
The maximum number of records to be returned per page. If more records are
requested via the API, @nextLink will contain the link to the next page.
""")
        @query
        maxpagesize: int32;

        @doc("""
The name of the field on which you want to sort records. By default, records
are sorted by created time (UTC).
""")
        @query
        sortBy: string;
        @query orderBy: OrderBy;
        @query status: ReplayStatus;

        @doc("""
Filter replay records by a list of inference schedule name(s). Format the list
as a comma-separated string, no space allowed. By default, the list of replay
records are ranked by descending replay created time (UTC) for each inference
schedule.
""")
        @query
        scheduleName: string;

        @doc("""
The total number of replay records to be returned per inference schedule,
ordered by created time descending. By default, the full list of replay records
will be returned for the inference schedule name(s) in your filter.
""")
        @query
        topPerSchedule: int32;
      };
    }
  >;

  Create is Azure.Core.ResourceCreateOrReplace<ScheduleReplay>;

  Read is Azure.Core.ResourceRead<ScheduleReplay>;

  Delete is Azure.Core.ResourceDelete<ScheduleReplay>;
}

interface SchedulesOperations {
  List is Azure.Core.ResourceRead<
    PageSchedule,
    {
      parameters: {
        @doc("""
The number of records to skip from the list of records based on the sorting
field and ordering method specified. By default, records are ranked by
descending created time (UTC).
""")
        @query
        skip: int32;

        @doc("""
The maximum number of records to be returned per page. If more records are
requested via the API, @nextLink will contain the link to the next page.
""")
        @query
        maxpagesize: int32;

        @doc("""
The name of the field on which you want to sort records. By default, records
are sorted by created time (UTC).
""")
        @query
        sortBy: string;
        @query orderBy: OrderBy;
        @query status: ScheduleStatus;

        @doc("""
Filter inference schedules by a list of model name(s). Format the list as a
comma-separated string, no space allowed. For each model, by default the list
of inference schedules are ranked by descending inference schedule created time
(UTC).
""")
        @query
        modelNames: string;

        @doc("""
The total number of inference schedules to be returned per model, ordered by
created time descending. By default, the full list of inference schedules will
be returned for the model name(s) in your filter.
""")
        @query
        topPerModel: int32;
      };
    }
  >;

  Create is Azure.Core.ResourceCreateOrReplace<Schedule>;

  Read is Azure.Core.ResourceRead<Schedule>;

  Delete is Azure.Core.ResourceDelete<Schedule>;

  @summary("Update an inference schedule")
  @doc("Pause/resume or update selected properties of an inference schedule.")
  Update is Azure.Core.ResourceCreateOrUpdate<Schedule>;

  @summary("Get historical detection results from the inference schedule")
  @doc("""
Use this API to retrieve detected anomalies over a historical time period
specified in the request body. Please refer to the official documentation for
the detailed quota and limits.
""")
  GetHistory is Azure.Core.ResourceRead<
    ScheduleHistoryResult,
    {
      parameters: {
        @query startTime: string;
        @query endTime: string;
      };
    }
  >;
}

interface EvaluationsOperations {
  List is Azure.Core.ResourceRead<
    PageEvaluation,
    {
      parameters: {
        @doc("""
The number of records to skip from the list of records based on the sorting
field and ordering method specified. By default, records are ranked by
descending created time (UTC).
""")
        @query
        skip: int32;

        @doc("""
The maximum number of records to be returned per page. If more records are
requested via the API, @nextLink will contain the link to the next page.
""")
        @query
        maxpagesize: int32;

        @doc("""
The name of the field on which you want to sort records. By default, records
are sorted by created time (UTC).
""")
        @query
        sortBy: string;
        @query orderBy: OrderBy;
        @query status: EvaluationStatus;

        @doc("""
Filter evaluations by a list of model name(s). Format the list as a
comma-separated string, no space allowed. For each model, by default the list
of evaluations are ranked by descending evaluation created time (UTC).
""")
        @query
        modelNames: string;

        @doc("""
The total number of evaluations to be returned per model, ordered by created
time descending. By default, the full list of evaluations will be returned for
the model name(s) in your filter.
""")
        @query
        topPerModel: int32;
      };
    }
  >;

  Create is Azure.Core.ResourceCreateOrReplace<Evaluation>;

  Read is Azure.Core.ResourceRead<Evaluation>;

  Delete is Azure.Core.ResourceDelete<Evaluation>;
}

interface ModelsOperations {
  List is Azure.Core.ResourceRead<
    PageModel,
    {
      parameters: {
        @doc("""
The number of records to skip from the list of records based on the sorting
field and ordering method specified. By default, records are ranked by
descending created time (UTC).
""")
        @query
        skip: int32;

        @doc("""
The maximum number of records to be returned per page. If more records are
requested via the API, @nextLink will contain the link to the next page.
""")
        @query
        maxpagesize: int32;

        @doc("""
The name of the field on which you want to sort records. By default, records
are sorted by created time (UTC).
""")
        @query
        sortBy: string;
        @query orderBy: OrderBy;
        @query status: ModelStatus;

        @doc("""
Filter models by a list of training dataset name(s). Format the list as a
comma-separated string, no space allowed. For each dataset, by default the list
of models are ranked by descending model created time (UTC).
""")
        @query
        datasetNames: string;

        @doc("""
The total number of models to be returned per dataset, ordered by created time
descending. By default, the full list of models will be returned for the
dataset name(s) in your filter.
""")
        @query
        topPerDataset: int32;
      };
    }
  >;

  Create is Azure.Core.ResourceCreateOrReplace<Model>;

  Read is Azure.Core.ResourceRead<Model>;

  Delete is Azure.Core.ResourceDelete<Model>;

  @summary("Detect Multivariate Anomaly - Sync")
  @doc("""
Detect anomalies with a trained model and multivariate time-series data points
specified in the request body. This API is recommended to be embedded in an
inference schedule set up for continuous real-time inference. Please refer to
the official documentation for the detailed quota and limits.
""")
  Detect is Azure.Core.ResourceCreateWithServiceProvidedName<DetectionResult>;
}
