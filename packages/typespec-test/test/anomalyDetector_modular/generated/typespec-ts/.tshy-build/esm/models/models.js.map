{"version":3,"file":"models.js","sourceRoot":"","sources":["../../../src/models/models.ts"],"names":[],"mappings":"AAAA,uCAAuC;AACvC,kCAAkC","sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\n/** Detection results for the given resultId. */\nexport interface MultivariateMultivariateDetectionResult {\n  /** Result identifier, which is used to fetch the results of an inference call. */\n  readonly resultId: string;\n  /** Multivariate anomaly detection status. */\n  summary: MultivariateMultivariateBatchDetectionResultSummary;\n  /** Detection result for each timestamp. */\n  results: MultivariateAnomalyState[];\n}\n\n/** Multivariate anomaly detection status. */\nexport interface MultivariateMultivariateBatchDetectionResultSummary {\n  /** Status of detection results. One of CREATED, RUNNING, READY, and FAILED. */\n  status: MultivariateBatchDetectionStatus;\n  /** Error message when detection is failed. */\n  errors?: MultivariateErrorResponse[];\n  /** Variable Status. */\n  variableStates?: MultivariateVariableState[];\n  /**\n   * Detection request for batch inference. This is an asynchronous inference which\n   * will need another API to get detection results.\n   */\n  setupInfo: MultivariateMultivariateBatchDetectionOptions;\n}\n\n/** */\nexport type MultivariateBatchDetectionStatus =\n  | \"CREATED\"\n  | \"RUNNING\"\n  | \"READY\"\n  | \"FAILED\";\n\n/** ErrorResponse contains code and message that shows the error information. */\nexport interface MultivariateErrorResponse {\n  /** The error code. */\n  code: string;\n  /** The message explaining the error reported by the service. */\n  message: string;\n}\n\n/** Variable Status. */\nexport interface MultivariateVariableState {\n  /** Variable name in variable states. */\n  variable?: string;\n  /** Proportion of missing values that need to be filled by fillNAMethod. */\n  filledNARatio?: number;\n  /** Number of effective data points before applying fillNAMethod. */\n  effectiveCount?: number;\n  /** First valid timestamp with value of input data. */\n  firstTimestamp?: Date;\n  /** Last valid timestamp with value of input data. */\n  lastTimestamp?: Date;\n}\n\n/**\n * Detection request for batch inference. This is an asynchronous inference which\n * will need another API to get detection results.\n */\nexport interface MultivariateMultivariateBatchDetectionOptions {\n  /**\n   * Source link to the input data to indicate an accessible Azure storage Uri,\n   * either pointed to an Azure blob storage folder, or pointed to a CSV file in\n   * Azure blob storage based on you data schema selection. The data schema should\n   * be exactly the same with those used in the training phase.\n   */\n  dataSource: string;\n  /**\n   * An optional field, which is used to specify the number of top contributed\n   * variables for one anomalous timestamp in the response. The default number is\n   * 10.\n   */\n  topContributorCount: number;\n  /**\n   * A required field, indicating the start time of data for detection, which should\n   * be date-time of ISO 8601 format.\n   */\n  startTime: Date;\n  /**\n   * A required field, indicating the end time of data for detection, which should\n   * be date-time of ISO 8601 format.\n   */\n  endTime: Date;\n}\n\n/** Anomaly status and information. */\nexport interface MultivariateAnomalyState {\n  /** The timestamp for this anomaly. */\n  timestamp: Date;\n  /** The detailed value of this anomalous timestamp. */\n  value?: MultivariateAnomalyValue;\n  /** Error message for the current timestamp. */\n  errors?: MultivariateErrorResponse[];\n}\n\n/** Detailed information of the anomalous timestamp. */\nexport interface MultivariateAnomalyValue {\n  /** True if an anomaly is detected at the current timestamp. */\n  isAnomaly: boolean;\n  /**\n   * Indicates the significance of the anomaly. The higher the severity, the more\n   * significant the anomaly is.\n   */\n  severity: number;\n  /**\n   * Raw anomaly score of severity, will help indicate the degree of abnormality as\n   * well.\n   */\n  score: number;\n  /** Interpretation of this anomalous timestamp. */\n  interpretation?: MultivariateAnomalyInterpretation[];\n}\n\n/** Interpretation of the anomalous timestamp. */\nexport interface MultivariateAnomalyInterpretation {\n  /** Variable. */\n  variable?: string;\n  /**\n   * This score shows the percentage contributing to the anomalous timestamp. A\n   * number between 0 and 1.\n   */\n  contributionScore?: number;\n  /** Correlation changes among the anomalous variables */\n  correlationChanges?: MultivariateCorrelationChanges;\n}\n\n/** Correlation changes among the anomalous variables */\nexport interface MultivariateCorrelationChanges {\n  /** The correlated variables that have correlation changes under an anomaly. */\n  changedVariables?: string[];\n}\n\n/**\n * Training result of a model including its status, errors and diagnostics\n * information.\n */\nexport interface MultivariateModelInfo {\n  /**\n   * Source link to the input data to indicate an accessible Azure storage Uri,\n   * either pointed to an Azure blob storage folder, or pointed to a CSV file in\n   * Azure blob storage based on you data schema selection.\n   */\n  dataSource: string;\n  /**\n   * Data schema of input data source: OneTable or MultiTable. The default\n   * DataSchema is OneTable.\n   */\n  dataSchema?: DataSchema;\n  /**\n   * A required field, indicating the start time of training data, which should be\n   * date-time of ISO 8601 format.\n   */\n  startTime: Date;\n  /**\n   * A required field, indicating the end time of training data, which should be\n   * date-time of ISO 8601 format.\n   */\n  endTime: Date;\n  /**\n   * An optional field. The display name of the model whose maximum length is 24\n   * characters.\n   */\n  displayName?: string;\n  /**\n   * An optional field, indicating how many previous timestamps will be used to\n   * detect whether the timestamp is anomaly or not.\n   */\n  slidingWindow?: number;\n  /** An optional field, indicating the manner to align multiple variables. */\n  alignPolicy?: MultivariateAlignPolicy;\n  /** Model status. One of CREATED, RUNNING, READY, and FAILED. */\n  status?: ModelStatus;\n  /** Error messages when failed to create a model. */\n  readonly errors?: MultivariateErrorResponse[];\n  /** Diagnostics information to help inspect the states of model or variable. */\n  diagnosticsInfo?: MultivariateDiagnosticsInfo;\n}\n\n/** Data schema of input data source: OneTable or MultiTable. The default DataSchema is OneTable. */\n/** \"OneTable\", \"MultiTable\" */\nexport type DataSchema = string;\n\n/** An optional field, indicating the manner to align multiple variables. */\nexport interface MultivariateAlignPolicy {\n  /**\n   * An optional field, indicating how to align different variables to the same\n   * time-range. Either Inner or Outer.\n   */\n  alignMode?: AlignMode;\n  /**\n   * An optional field, indicating how missing values will be filled. One of\n   * Previous, Subsequent, Linear, Zero, Fixed.\n   */\n  fillNAMethod?: FillNAMethod;\n  /** An optional field. Required when fillNAMethod is Fixed. */\n  paddingValue?: number;\n}\n\n/** */\nexport type AlignMode = \"Inner\" | \"Outer\";\n/** An optional field, indicating how missing values will be filled. One of Previous, Subsequent, Linear, Zero, Fixed. */\n/** \"Previous\", \"Subsequent\", \"Linear\", \"Zero\", \"Fixed\" */\nexport type FillNAMethod = string;\n/** */\nexport type ModelStatus = \"CREATED\" | \"RUNNING\" | \"READY\" | \"FAILED\";\n\n/** Diagnostics information to help inspect the states of model or variable. */\nexport interface MultivariateDiagnosticsInfo {\n  /** Model status. */\n  modelState?: MultivariateModelState;\n  /** Variable Status. */\n  variableStates?: MultivariateVariableState[];\n}\n\n/** Model status. */\nexport interface MultivariateModelState {\n  /**\n   * This indicates the number of passes of the entire training dataset the\n   * algorithm has completed.\n   */\n  epochIds?: number[];\n  /**\n   * List of metrics used to assess how the model fits the training data for each\n   * epoch.\n   */\n  trainLosses?: number[];\n  /**\n   * List of metrics used to assess how the model fits the validation set for each\n   * epoch.\n   */\n  validationLosses?: number[];\n  /** Latency for each epoch. */\n  latenciesInSeconds?: number[];\n}\n\n/** Response of getting a model. */\nexport interface MultivariateAnomalyDetectionModel {\n  /** Model identifier. */\n  readonly modelId: string;\n  /** Date and time (UTC) when the model was created. */\n  createdTime: Date;\n  /** Date and time (UTC) when the model was last updated. */\n  lastUpdatedTime: Date;\n  /**\n   * Training result of a model including its status, errors and diagnostics\n   * information.\n   */\n  modelInfo?: MultivariateModelInfo;\n}\n\n/** Response of listing models. */\nexport interface MultivariateModelList {\n  /** List of models. */\n  models: MultivariateAnomalyDetectionModel[];\n  /** Number of trained multivariate models. */\n  currentCount: number;\n  /** Maximum number of models that can be trained for this Anomaly Detector resource. */\n  maxCount: number;\n  /** The link to fetch more models. */\n  nextLink?: string;\n}\n\n/** Request of last detection. */\nexport interface MultivariateMultivariateLastDetectionOptions {\n  /**\n   * This contains the inference data, including the name, timestamps(ISO 8601) and\n   * values of variables.\n   */\n  variables: MultivariateVariableValues[];\n  /**\n   * An optional field, which is used to specify the number of top contributed\n   * variables for one anomalous timestamp in the response. The default number is\n   * 10.\n   */\n  topContributorCount: number;\n}\n\n/** Variable values. */\nexport interface MultivariateVariableValues {\n  /** Variable name of last detection request. */\n  variable: string;\n  /** Timestamps of last detection request */\n  timestamps: string[];\n  /** Values of variables. */\n  values: number[];\n}\n\n/** Results of last detection. */\nexport interface MultivariateMultivariateLastDetectionResult {\n  /** Variable Status. */\n  variableStates?: MultivariateVariableState[];\n  /** Anomaly status and information. */\n  results?: MultivariateAnomalyState[];\n}\n\n/** The request of entire or last anomaly detection. */\nexport interface UnivariateUnivariateDetectionOptions {\n  /**\n   * Time series data points. Points should be sorted by timestamp in ascending\n   * order to match the anomaly detection result. If the data is not sorted\n   * correctly or there is duplicated timestamp, the API will not work. In such\n   * case, an error message will be returned.\n   */\n  series: UnivariateTimeSeriesPoint[];\n  /**\n   * Optional argument, can be one of yearly, monthly, weekly, daily, hourly,\n   * minutely, secondly, microsecond or none. If granularity is not present, it will\n   * be none by default. If granularity is none, the timestamp property in time\n   * series point can be absent.\n   */\n  granularity?: TimeGranularity;\n  /**\n   * Custom Interval is used to set non-standard time interval, for example, if the\n   * series is 5 minutes, request can be set as {\"granularity\":\"minutely\",\n   * \"customInterval\":5}.\n   */\n  customInterval?: number;\n  /**\n   * Optional argument, periodic value of a time series. If the value is null or\n   * does not present, the API will determine the period automatically.\n   */\n  period?: number;\n  /** Optional argument, advanced model parameter, max anomaly ratio in a time series. */\n  maxAnomalyRatio?: number;\n  /**\n   * Optional argument, advanced model parameter, between 0-99, the lower the value\n   * is, the larger the margin value will be which means less anomalies will be\n   * accepted.\n   */\n  sensitivity?: number;\n  /**\n   * Used to specify how to deal with missing values in the input series, it's used\n   * when granularity is not \"none\".\n   */\n  imputeMode?: ImputeMode;\n  /**\n   * Used to specify the value to fill, it's used when granularity is not \"none\"\n   * and imputeMode is \"fixed\".\n   */\n  imputeFixedValue?: number;\n}\n\n/** The definition of input timeseries points. */\nexport interface UnivariateTimeSeriesPoint {\n  /** Optional argument, timestamp of a data point (ISO8601 format). */\n  timestamp?: Date;\n  /** The measurement of that point, should be float. */\n  value: number;\n}\n\n/** */\nexport type TimeGranularity =\n  | \"yearly\"\n  | \"monthly\"\n  | \"weekly\"\n  | \"daily\"\n  | \"hourly\"\n  | \"minutely\"\n  | \"secondly\"\n  | \"microsecond\"\n  | \"none\";\n/** \"auto\", \"previous\", \"linear\", \"fixed\", \"zero\", \"notFill\" */\nexport type ImputeMode = string;\n\n/** The response of entire anomaly detection. */\nexport interface UnivariateUnivariateEntireDetectionResult {\n  /**\n   * Frequency extracted from the series, zero means no recurrent pattern has been\n   * found.\n   */\n  period: number;\n  /**\n   * ExpectedValues contain expected value for each input point. The index of the\n   * array is consistent with the input series.\n   */\n  expectedValues: number[];\n  /**\n   * UpperMargins contain upper margin of each input point. UpperMargin is used to\n   * calculate upperBoundary, which equals to expectedValue + (100 -\n   * marginScale)*upperMargin. Anomalies in response can be filtered by\n   * upperBoundary and lowerBoundary. By adjusting marginScale value, less\n   * significant anomalies can be filtered in client side. The index of the array is\n   * consistent with the input series.\n   */\n  upperMargins: number[];\n  /**\n   * LowerMargins contain lower margin of each input point. LowerMargin is used to\n   * calculate lowerBoundary, which equals to expectedValue - (100 -\n   * marginScale)*lowerMargin. Points between the boundary can be marked as normal\n   * ones in client side. The index of the array is consistent with the input\n   * series.\n   */\n  lowerMargins: number[];\n  /**\n   * IsAnomaly contains anomaly properties for each input point. True means an\n   * anomaly either negative or positive has been detected. The index of the array\n   * is consistent with the input series.\n   */\n  isAnomaly: boolean[];\n  /**\n   * IsNegativeAnomaly contains anomaly status in negative direction for each input\n   * point. True means a negative anomaly has been detected. A negative anomaly\n   * means the point is detected as an anomaly and its real value is smaller than\n   * the expected one. The index of the array is consistent with the input series.\n   */\n  isNegativeAnomaly: boolean[];\n  /**\n   * IsPositiveAnomaly contain anomaly status in positive direction for each input\n   * point. True means a positive anomaly has been detected. A positive anomaly\n   * means the point is detected as an anomaly and its real value is larger than the\n   * expected one. The index of the array is consistent with the input series.\n   */\n  isPositiveAnomaly: boolean[];\n  /**\n   * The severity score for each input point. The larger the value is, the more\n   * sever the anomaly is. For normal points, the \"severity\" is always 0.\n   */\n  severity?: number[];\n}\n\n/** \"InvalidCustomInterval\", \"BadArgument\", \"InvalidGranularity\", \"InvalidPeriod\", \"InvalidModelArgument\", \"InvalidSeries\", \"InvalidJsonFormat\", \"RequiredGranularity\", \"RequiredSeries\", \"InvalidImputeMode\", \"InvalidImputeFixedValue\" */\nexport type AnomalyDetectorErrorCodes = string;\n\n/** The response of last anomaly detection. */\nexport interface UnivariateUnivariateLastDetectionResult {\n  /**\n   * Frequency extracted from the series, zero means no recurrent pattern has been\n   * found.\n   */\n  period: number;\n  /** Suggested input series points needed for detecting the latest point. */\n  suggestedWindow: number;\n  /** Expected value of the latest point. */\n  expectedValue: number;\n  /**\n   * Upper margin of the latest point. UpperMargin is used to calculate\n   * upperBoundary, which equals to expectedValue + (100 - marginScale)*upperMargin.\n   * If the value of latest point is between upperBoundary and lowerBoundary, it\n   * should be treated as normal value. By adjusting marginScale value, anomaly\n   * status of latest point can be changed.\n   */\n  upperMargin: number;\n  /**\n   * Lower margin of the latest point. LowerMargin is used to calculate\n   * lowerBoundary, which equals to expectedValue - (100 - marginScale)*lowerMargin.\n   *\n   */\n  lowerMargin: number;\n  /**\n   * Anomaly status of the latest point, true means the latest point is an anomaly\n   * either in negative direction or positive direction.\n   */\n  isAnomaly: boolean;\n  /**\n   * Anomaly status in negative direction of the latest point. True means the latest\n   * point is an anomaly and its real value is smaller than the expected one.\n   */\n  isNegativeAnomaly: boolean;\n  /**\n   * Anomaly status in positive direction of the latest point. True means the latest\n   * point is an anomaly and its real value is larger than the expected one.\n   */\n  isPositiveAnomaly: boolean;\n  /**\n   * The severity score for the last input point. The larger the value is, the more\n   * sever the anomaly is. For normal points, the \"severity\" is always 0.\n   */\n  severity?: number;\n}\n\n/** The request of change point detection. */\nexport interface UnivariateUnivariateChangePointDetectionOptions {\n  /**\n   * Time series data points. Points should be sorted by timestamp in ascending\n   * order to match the change point detection result.\n   */\n  series: UnivariateTimeSeriesPoint[];\n  /**\n   * Can only be one of yearly, monthly, weekly, daily, hourly, minutely or\n   * secondly. Granularity is used for verify whether input series is valid.\n   */\n  granularity: TimeGranularity;\n  /**\n   * Custom Interval is used to set non-standard time interval, for example, if the\n   * series is 5 minutes, request can be set as {\"granularity\":\"minutely\",\n   * \"customInterval\":5}.\n   */\n  customInterval?: number;\n  /**\n   * Optional argument, periodic value of a time series. If the value is null or\n   * does not present, the API will determine the period automatically.\n   */\n  period?: number;\n  /**\n   * Optional argument, advanced model parameter, a default stableTrendWindow will\n   * be used in detection.\n   */\n  stableTrendWindow?: number;\n  /**\n   * Optional argument, advanced model parameter, between 0.0-1.0, the lower the\n   * value is, the larger the trend error will be which means less change point will\n   * be accepted.\n   */\n  threshold?: number;\n}\n\n/** The response of change point detection. */\nexport interface UnivariateUnivariateChangePointDetectionResult {\n  /**\n   * Frequency extracted from the series, zero means no recurrent pattern has been\n   * found.\n   */\n  readonly period?: number;\n  /**\n   * isChangePoint contains change point properties for each input point. True means\n   * an anomaly either negative or positive has been detected. The index of the\n   * array is consistent with the input series.\n   */\n  isChangePoint?: boolean[];\n  /** the change point confidence of each point */\n  confidenceScores?: number[];\n}\n"]}