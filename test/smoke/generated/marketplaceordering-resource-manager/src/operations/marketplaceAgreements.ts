/*
 * Copyright (c) Microsoft Corporation.
 * Licensed under the MIT License.
 *
 * Code generated by Microsoft (R) AutoRest Code Generator.
 * Changes may cause incorrect behavior and will be lost if the code is regenerated.
 */

import * as coreHttp from "@azure/core-http";
import * as Mappers from "../models/mappers";
import * as Parameters from "../models/parameters";
import { MarketplaceOrderingAgreements } from "../marketplaceOrderingAgreements";
import {
  MarketplaceAgreementsGetResponse,
  AgreementTerms,
  MarketplaceAgreementsCreateResponse,
  MarketplaceAgreementsSignResponse,
  MarketplaceAgreementsCancelResponse,
  MarketplaceAgreementsGetAgreementResponse,
  MarketplaceAgreementsListResponse
} from "../models";

/**
 * Class representing a MarketplaceAgreements.
 */
export class MarketplaceAgreements {
  private readonly client: MarketplaceOrderingAgreements;

  /**
   * Initialize a new instance of the class MarketplaceAgreements class.
   * @param client Reference to the service client
   */
  constructor(client: MarketplaceOrderingAgreements) {
    this.client = client;
  }

  /**
   * Get marketplace terms.
   * @param publisherId Publisher identifier string of image being deployed.
   * @param offerId Offer identifier string of image being deployed.
   * @param planId Plan identifier string of image being deployed.
   * @param options The options parameters.
   */
  get(
    publisherId: string,
    offerId: string,
    planId: string,
    options?: coreHttp.OperationOptions
  ): Promise<MarketplaceAgreementsGetResponse> {
    const operationOptions: coreHttp.RequestOptionsBase = coreHttp.operationOptionsToRequestOptionsBase(
      options || {}
    );
    return this.client.sendOperationRequest(
      { publisherId, offerId, planId, options: operationOptions },
      getOperationSpec
    ) as Promise<MarketplaceAgreementsGetResponse>;
  }

  /**
   * Save marketplace terms.
   * @param publisherId Publisher identifier string of image being deployed.
   * @param offerId Offer identifier string of image being deployed.
   * @param planId Plan identifier string of image being deployed.
   * @param parameters Parameters supplied to the Create Marketplace Terms operation.
   * @param options The options parameters.
   */
  create(
    publisherId: string,
    offerId: string,
    planId: string,
    parameters: AgreementTerms,
    options?: coreHttp.OperationOptions
  ): Promise<MarketplaceAgreementsCreateResponse> {
    const operationOptions: coreHttp.RequestOptionsBase = coreHttp.operationOptionsToRequestOptionsBase(
      options || {}
    );
    return this.client.sendOperationRequest(
      { publisherId, offerId, planId, parameters, options: operationOptions },
      createOperationSpec
    ) as Promise<MarketplaceAgreementsCreateResponse>;
  }

  /**
   * Sign marketplace terms.
   * @param publisherId Publisher identifier string of image being deployed.
   * @param offerId Offer identifier string of image being deployed.
   * @param planId Plan identifier string of image being deployed.
   * @param options The options parameters.
   */
  sign(
    publisherId: string,
    offerId: string,
    planId: string,
    options?: coreHttp.OperationOptions
  ): Promise<MarketplaceAgreementsSignResponse> {
    const operationOptions: coreHttp.RequestOptionsBase = coreHttp.operationOptionsToRequestOptionsBase(
      options || {}
    );
    return this.client.sendOperationRequest(
      { publisherId, offerId, planId, options: operationOptions },
      signOperationSpec
    ) as Promise<MarketplaceAgreementsSignResponse>;
  }

  /**
   * Cancel marketplace terms.
   * @param publisherId Publisher identifier string of image being deployed.
   * @param offerId Offer identifier string of image being deployed.
   * @param planId Plan identifier string of image being deployed.
   * @param options The options parameters.
   */
  cancel(
    publisherId: string,
    offerId: string,
    planId: string,
    options?: coreHttp.OperationOptions
  ): Promise<MarketplaceAgreementsCancelResponse> {
    const operationOptions: coreHttp.RequestOptionsBase = coreHttp.operationOptionsToRequestOptionsBase(
      options || {}
    );
    return this.client.sendOperationRequest(
      { publisherId, offerId, planId, options: operationOptions },
      cancelOperationSpec
    ) as Promise<MarketplaceAgreementsCancelResponse>;
  }

  /**
   * Get marketplace agreement.
   * @param publisherId Publisher identifier string of image being deployed.
   * @param offerId Offer identifier string of image being deployed.
   * @param planId Plan identifier string of image being deployed.
   * @param options The options parameters.
   */
  getAgreement(
    publisherId: string,
    offerId: string,
    planId: string,
    options?: coreHttp.OperationOptions
  ): Promise<MarketplaceAgreementsGetAgreementResponse> {
    const operationOptions: coreHttp.RequestOptionsBase = coreHttp.operationOptionsToRequestOptionsBase(
      options || {}
    );
    return this.client.sendOperationRequest(
      { publisherId, offerId, planId, options: operationOptions },
      getAgreementOperationSpec
    ) as Promise<MarketplaceAgreementsGetAgreementResponse>;
  }

  /**
   * List marketplace agreements in the subscription.
   * @param options The options parameters.
   */
  list(
    options?: coreHttp.OperationOptions
  ): Promise<MarketplaceAgreementsListResponse> {
    const operationOptions: coreHttp.RequestOptionsBase = coreHttp.operationOptionsToRequestOptionsBase(
      options || {}
    );
    return this.client.sendOperationRequest(
      { options: operationOptions },
      listOperationSpec
    ) as Promise<MarketplaceAgreementsListResponse>;
  }
}
// Operation Specifications

const serializer = new coreHttp.Serializer(Mappers, /* isXml */ false);

const getOperationSpec: coreHttp.OperationSpec = {
  path:
    "/subscriptions/{subscriptionId}/providers/Microsoft.MarketplaceOrdering/offerTypes/{offerType}/publishers/{publisherId}/offers/{offerId}/plans/{planId}/agreements/current",
  httpMethod: "GET",
  responses: {
    200: {
      bodyMapper: Mappers.AgreementTerms
    }
  },
  queryParameters: [Parameters.apiVersion],
  urlParameters: [
    Parameters.$host,
    Parameters.subscriptionId,
    Parameters.offerType,
    Parameters.publisherId,
    Parameters.offerId,
    Parameters.planId
  ],
  serializer
};
const createOperationSpec: coreHttp.OperationSpec = {
  path:
    "/subscriptions/{subscriptionId}/providers/Microsoft.MarketplaceOrdering/offerTypes/{offerType}/publishers/{publisherId}/offers/{offerId}/plans/{planId}/agreements/current",
  httpMethod: "PUT",
  responses: {
    200: {
      bodyMapper: Mappers.AgreementTerms
    },
    default: {
      bodyMapper: Mappers.ErrorResponse
    }
  },
  requestBody: Parameters.parameters,
  queryParameters: [Parameters.apiVersion],
  urlParameters: [
    Parameters.$host,
    Parameters.subscriptionId,
    Parameters.offerType,
    Parameters.publisherId,
    Parameters.offerId,
    Parameters.planId
  ],
  headerParameters: [Parameters.contentType],
  serializer
};
const signOperationSpec: coreHttp.OperationSpec = {
  path:
    "/subscriptions/{subscriptionId}/providers/Microsoft.MarketplaceOrdering/agreements/{publisherId}/offers/{offerId}/plans/{planId}/sign",
  httpMethod: "POST",
  responses: {
    200: {
      bodyMapper: Mappers.AgreementTerms
    },
    default: {
      bodyMapper: Mappers.ErrorResponse
    }
  },
  queryParameters: [Parameters.apiVersion],
  urlParameters: [
    Parameters.$host,
    Parameters.subscriptionId,
    Parameters.publisherId,
    Parameters.offerId,
    Parameters.planId
  ],
  serializer
};
const cancelOperationSpec: coreHttp.OperationSpec = {
  path:
    "/subscriptions/{subscriptionId}/providers/Microsoft.MarketplaceOrdering/agreements/{publisherId}/offers/{offerId}/plans/{planId}/cancel",
  httpMethod: "POST",
  responses: {
    200: {
      bodyMapper: Mappers.AgreementTerms
    },
    default: {
      bodyMapper: Mappers.ErrorResponse
    }
  },
  queryParameters: [Parameters.apiVersion],
  urlParameters: [
    Parameters.$host,
    Parameters.subscriptionId,
    Parameters.publisherId,
    Parameters.offerId,
    Parameters.planId
  ],
  serializer
};
const getAgreementOperationSpec: coreHttp.OperationSpec = {
  path:
    "/subscriptions/{subscriptionId}/providers/Microsoft.MarketplaceOrdering/agreements/{publisherId}/offers/{offerId}/plans/{planId}",
  httpMethod: "GET",
  responses: {
    200: {
      bodyMapper: Mappers.AgreementTerms
    }
  },
  queryParameters: [Parameters.apiVersion],
  urlParameters: [
    Parameters.$host,
    Parameters.subscriptionId,
    Parameters.publisherId,
    Parameters.offerId,
    Parameters.planId
  ],
  serializer
};
const listOperationSpec: coreHttp.OperationSpec = {
  path:
    "/subscriptions/{subscriptionId}/providers/Microsoft.MarketplaceOrdering/agreements",
  httpMethod: "GET",
  responses: {
    200: {
      bodyMapper: {
        type: {
          name: "Sequence",
          element: { type: { name: "Composite", className: "AgreementTerms" } }
        },
        serializedName: "ArrayOfAgreementTerms"
      }
    }
  },
  queryParameters: [Parameters.apiVersion],
  urlParameters: [Parameters.$host, Parameters.subscriptionId],
  serializer
};
