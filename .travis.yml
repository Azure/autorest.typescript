language: node_js
sudo: required
addons:
  chrome: stable
node_js:
  - "8"
cache:
  directories:
    - $HOME/.npm
install:
    # dotnet 2.0 prereq
  - sudo apt-get install libunwind8
  - npm install
before_script:
  - npm install -g gulp-cli
stages:
  - test
jobs:
  include:
    - stage: test
      script: npm run testci
      env: CHECK_NAME="Unit Tests"
    - stage: test
      script: npm run regenerateci
      env: CHECK_NAME="Regenerate"
    - stage: test
      install: npm install --ignore-scripts
      script: npm run bundle-size
      env: CHECK_NAME="Bundle Size"
