language: node_js
sudo: required
node_js:
  - "8"
install:
    # dotnet 2.0 prereq
  - sudo apt-get install libunwind8
    # Install npm
  - npm install
before_script:
  - npm install -g gulp-cli
stages:
  - test
  - regenerate
  - bundlesize
jobs:
  include:
    - stage: test
      script: npm run testci
      env: CHECK_NAME="Unit Tests"
    - stage: regenerate
      script: npm run regenerateci
      env: CHECK_NAME="Regenerate"
    - stage: bundlesize
      script: npm run bundle-size
      env: CHECK_NAME="Bundle Size"
